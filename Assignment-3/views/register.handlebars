{{!-- Registraion Page for New user --}}
{{> header}}

<div class="text-center center-div mt-1 mb-1" id="login">
  <div class="container w-50 border py-5">
    <div class="title pb-5">
      <h2 class="font-weight-bold">Register User</h2>

     
      {{#if errMsg}}<div class="alter alert-danger text-center">{{errMsg}}</div>
      {{else}}<div class="alter alert-success text-center">{{succsMsg}}</div>
      {{/if}}
      <div id="error" ></div

    </div>
    <form  action="/postdata" method="POST" id="regisForm" class="pt-2 w-75 m-auto ">
      <div class="form-group">
        <input
          type="text"
          class="form-control"
          placeholder="First Name"
          name="fname"
          id="fname"
          required
        />
      </div>
      <div class="form-group">
        <input
          type="text"
          class="form-control"
          placeholder="Last Name"
          name="lname" 
          id="lname"
          required
        />
      </div>
      <div class="form-group">
        <input
          type="email"
          class="form-control"
          placeholder="Email"
          name="email"
          id="email"
          required
        />
      </div>
      <div class="form-group">
        <input
          type="password"
          class="form-control"
          name="password"
          id="password"
          placeholder="Password"
          required
        />
      </div>
      <div class="form-group">
        <input
          type="number"
          class="form-control"
          name="age"
          id="age"
          placeholder="Age"
          required
          />
      </div>
      <div class="form-group">
        <input
          type="text"
          class="form-control"
          name="msgBx"
          id="msgBx"
          placeholder="Message Box"
          value= ''
          />
      </div>
      <button type="submit" class="btn btn-success rounded-pill mt-2">Submit</button>
    </form>

{{!-- Script tag for form Validation in registration   --}}
    <script>
      const fname = document.getElementById("fname");
      const lname = document.getElementById("lname");
      const email = document.getElementById("email");
      const password = document.getElementById("password");
      const age = document.getElementById("age");
      const msgBx = document.getElementById("msgBx");

      const errorDiv = document.getElementById("error");
      const form = document.getElementById("regisForm");

    form.addEventListener('submit', (e) => {
      let messages = []
      if (fname.value === '' || fname.value == null) {
        messages.push('First Name is required')
      }
      if (lname.value === '' || lname.value == null) {
        messages.push('Last Name is required')
      }
      if(email.value === "" || email.value === null){
      messages.push('Email is required')
      }
      if (password.value.length < 6) {
        messages.push('Password must be longer than 6 characters')
      }

      if (password.value.length >= 20) {
        messages.push('Password must be less than 20 characters')
      }

      if (password.value === 'password') {
        messages.push('Password cannot be password')
      }
      if(msgBx.value === "" || msgBx.value === null){
      messages.push('Dont forget to give us meassage')
      }

      if (messages.length > 0) {
        e.preventDefault()
        errorDiv.innerText = messages.join(',\n ')
        errorDiv.classList = 'alert alert-danger'
        
      }
    })

    </script>
    {{!-- <script src="validation.js"></script> --}}
  </div>
</div>

{{> footer}}